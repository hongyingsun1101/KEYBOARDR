% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get.boundary.kb.R
\name{get.boundary.kb}
\alias{get.boundary.kb}
\title{Dose Escalation and De-escalation Boundaries for Single-agent Trials}
\usage{
get.boundary.kb(
  target,
  ncohort,
  cohortsize,
  marginL = 0.05,
  marginR = 0.05,
  cutoff.eli = 0.95,
  n.earlystop = 100,
  extrasafe = FALSE,
  offset = 0.05
)
}
\arguments{
\item{target}{the target dose-limiting toxicity (DLT) rate.}

\item{ncohort}{the total number of cohorts}

\item{cohortsize}{the cohort size}

\item{marginL}{the difference between the target and the left bound of the
"target key" (proper dosing interval) to be defined.\cr
The default is 0.05.}

\item{marginR}{the difference between the target and the right bound of the
"target key" (proper dosing interval) to be defined.\cr
The default is 0.05.}

\item{cutoff.eli}{the cutoff to eliminate an overly toxic dose and all
higher doses for safety.\cr
The recommended value for general use and default is 0.95.}

\item{n.earlystop}{the early stopping parameter. If the number of patients treated at
the current dose reaches \code{n.earlystop}, stop the trial
and select the MTD based on the observed data. The default
value \code{n.earlystop=100} essentially turns off the type
of early stopping.}

\item{extrasafe}{set \code{extrasafe=TRUE} to impose a more strict stopping rule for extra safety,
expressed as the stopping boundary value in the result .}

\item{offset}{a small positive number (between 0 and 0.5) to control how strict
the stopping rule is when \code{extrasafe=TRUE}. A larger value leads
to a more strict stopping rule. The default value
(\code{offset=0.05}) generally works well.}
}
\value{
The function returns a matrix, which includes the dose escalation
  and de-escalation boundaries, as well as the elimination boundary.
}
\description{
Generates the optimal dose escalation and de-escalation boundaries for
conducting a single-agent trial with the KEYBOARD design.
}
\details{
The KEYBOARD design relies on the posterior distribution of the toxicity
probability to guide dosage. To make the decision of dose escalation and
de-escalation, given the observed data at the current dose, we identify the
interval that has the highest posterior probability, which we refer to as
the "strongest key". This key represents where the true dose-limiting
toxicity (DLT) rate of the current dose is most likely located. If the
strongest key is located on the left side of the "target key", we escalate
the dose (because it means that the observed data suggests that the current
dose is most likely to represent under-dosing); if the strongest key is
located on the right side of the target key, we de-escalate the dose
(because the data suggests that the current dose represents overdosing); and
if the strongest key is the target key, we retain the current dose (because
the observed data supports that the current dose is most likely to be in the
proper dosing interval).
Graphically, the strongest key is the one with the largest area under the
posterior distribution curve of the DLT rate of the current dose.

\figure{keyboard.jpg}

An attractive feature of the KEYBOARD design is that its dose escalation and
de-escalation rule can be tabulated before the onset of the trial. Thus,
when conducting the trial, no calculation or model fitting is needed, and we
only need to count the number of DLTs observed at the current dose and make
the decision of dose escalation and de-escalation based on the pre-tabulated
decision rules.

Given all observed data, the KEYBOARD design uses a statistical technique
called isotonic regression to obtain an efficient statistical estimate of
the maximum tolerated dose (MTD) by utilizing the fact that toxicity
presumably increases with the dose.

For patient safety, we apply the following Bayesian overdose control rule
after each cohort:
if at least 3 patients have been treated at the given dose and
the observed data indicate that the probability of the toxicity rate of
the current dose being above the target toxicity rate is more
than 95%, we eliminate that and higher doses from the trial to prevent
exposing future patients to these overly toxic doses. The probability
threshold can be specified with \code{cutoff.eli}. When a dose is
eliminated, the design recommends the next lower dose for treating the next
patient. If the lowest dose is overly toxic, the trial terminates early and
no dose is selected as the MTD.
}
\note{
In most clinical applications, the target DLT rate is often a rough
  guess, but finding a dose level with a DLT rate reasonably close to the
  target rate (which ideally would be the MTD) is what interests the
  investigator.
}
\examples{
### Single-agent trial ###

bound <- get.boundary.kb(target=0.3, ncohort=10, cohortsize=3)
print(bound)

}
\references{
Yan F, Mandrekar SJ, Yuan Y. KEYBOARD: A Novel Bayesian Toxicity Probability
Interval Design for Phase I Clinical Trials.
\emph{Clinical Cancer Research}. 2017; 23:3994-4003.
http://clincancerres.aacrjournals.org/content/23/15/3994.full-text.pdf
}
\seealso{
Other single-agent functions: 
\code{\link{get.oc.kb}()},
\code{\link{select.mtd.kb}()}
}
\concept{single-agent functions}
